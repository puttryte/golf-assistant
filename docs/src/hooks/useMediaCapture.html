<!DOCTYPE html>

<html>
<head>
  <title>useMediaCapture.ts</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="..\..\docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>useMediaCapture.ts</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-1">&#x00a7;</a>
              </div>
              
            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-2">&#x00a7;</a>
              </div>
              <p>This file uses the devices camera to capture video</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;
<span class="hljs-keyword">import</span> { useCamera } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@ionic/react-hooks/camera&#x27;</span>;
<span class="hljs-keyword">import</span> { useFilesystem, base64FromPath } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@ionic/react-hooks/filesystem&#x27;</span>;
<span class="hljs-keyword">import</span> { useStorage } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@ionic/react-hooks/storage&#x27;</span>;
<span class="hljs-keyword">import</span> { isPlatform } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@ionic/react&#x27;</span>;
<span class="hljs-keyword">import</span> { MediaFile, VideoCapturePlusOptions, VideoCapturePlus} <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@ionic-native/video-capture-plus&quot;</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-3">&#x00a7;</a>
              </div>
              <p>Uses an async function which awaits video capture
You can restrict the duration uses the duration option
For IOS devices, you cause insert an overlay using the overlayText option
Returns the media capture of either a single, or timeless putt</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">useMediaCapture</span>(<span class="hljs-params">duration:<span class="hljs-built_in">any</span></span>) </span>{

    
    <span class="hljs-keyword">const</span> doMediaCapture = <span class="hljs-keyword">async</span> () =&gt; {
        <span class="hljs-keyword">let</span> options: VideoCapturePlusOptions = {
            <span class="hljs-attr">limit</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">duration</span>: duration,
            <span class="hljs-attr">overlayText</span>: <span class="hljs-string">&#x27;Start Putting!&#x27;</span>
        };
        <span class="hljs-keyword">let</span> capture:<span class="hljs-built_in">any</span> = <span class="hljs-keyword">await</span> VideoCapturePlus.captureVideo(options);
        <span class="hljs-built_in">console</span>.log((capture[<span class="hljs-number">0</span>] <span class="hljs-keyword">as</span> MediaFile).fullPath)
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="sswrap ">
                <a class="ss" href="#section-4">&#x00a7;</a>
              </div>
              <p>return the media capture of either the single or timeless putt</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">doSinglePutt</span>: doMediaCapture,
        <span class="hljs-attr">doTimelessPutts</span>: doMediaCapture
    };
}</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
